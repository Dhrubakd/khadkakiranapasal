// Cart functionality for cart.html page

// Load cart from localStorage
function loadCart() {
    const savedCart = localStorage.getItem('cart');
    return savedCart ? JSON.parse(savedCart) : [];
}

// Save cart to localStorage
function saveCart(cart) {
    localStorage.setItem('cart', JSON.stringify(cart));
}

// Products Data - Same as script.js
const products = [
    // Vegetables
    { id: 1, name: 'Tomato', category: 'vegetables', price: 80, unit: 'kg', image: 'https://images.unsplash.com/photo-1592924357228-91a4daadcfea?w=300' },
    { id: 2, name: 'Potato', category: 'vegetables', price: 60, unit: 'kg', image: 'https://images.unsplash.com/photo-1518977676601-b53f82aba655?w=300' },
    { id: 3, name: "Onion", category: "vegetables", price: 45, image: "https://images.unsplash.com/photo-1508747703725-719777637510?w=400" },
    { id: 4, name: "Carrot", category: "vegetables", price: 70, image: "https://images.unsplash.com/photo-1598170845058-32b9d6a5da37?w=400" },
    { id: 5, name: "Cabbage", category: "vegetables", price: 55, image: "https://images.unsplash.com/photo-1594282801870-f87c32ec4a3e?w=400" },
    { id: 6, name: "Cauliflower", category: "vegetables", price: 80, image: "https://images.unsplash.com/photo-1568584711271-61000e7c732e?w=400" },
    { id: 7, name: "Green Peas", category: "vegetables", price: 90, image: "https://images.unsplash.com/photo-1452326822247-23c3b0f6c348?w=400" },

    // Fruits
    { id: 8, name: "Apple", category: "fruits", price: 150, image: "https://images.unsplash.com/photo-1560806887-1e4cd0b6cbd6?w=400" },
    { id: 9, name: "Banana", category: "fruits", price: 60, image: "https://images.unsplash.com/photo-1603833665858-e61d17a86224?w=400" },
    { id: 10, name: "Orange", category: "fruits", price: 120, image: "https://images.unsplash.com/photo-1547514701-42782101795e?w=400" },
    { id: 11, name: "Mango", category: "fruits", price: 200, image: "https://images.unsplash.com/photo-1553279768-865429fa0078?w=400" },
    { id: 12, name: "Grapes", category: "fruits", price: 180, image: "https://images.unsplash.com/photo-1596363505729-4190a9506133?w=400" },

    // Dairy Products
    { id: 13, name: "Fresh Milk", category: "dairy", price: 80, image: "https://images.unsplash.com/photo-1563636619-e9143da7973b?w=400" },
    { id: 14, name: "Curd/Dahi", category: "dairy", price: 90, image: "https://images.unsplash.com/photo-1488477181946-6428a0291777?w=400" },
    { id: 15, name: "Paneer", category: "dairy", price: 350, image: "https://images.unsplash.com/photo-1631452180519-c014fe946bc7?w=400" },
    { id: 16, name: "Butter", category: "dairy", price: 250, image: "https://images.unsplash.com/photo-1589985270826-4b7bb135bc9d?w=400" },
    { id: 17, name: "Cheese", category: "dairy", price: 400, image: "https://images.unsplash.com/photo-1486297678162-eb2a19b0a32d?w=400" },
    { id: 18, name: "Eggs (12 pcs)", category: "dairy", price: 180, image: "https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?w=400" },

    // Grains & Rice
    { id: 19, name: "Basmati Rice", category: "grains", price: 120, image: "https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400" },
    { id: 20, name: "Regular Rice", category: "grains", price: 80, image: "https://images.unsplash.com/photo-1516684732162-798a0062be99?w=400" },
    { id: 21, name: "Wheat Flour (Atta)", category: "grains", price: 60, image: "https://images.unsplash.com/photo-1574323347407-f5e1ad6d020b?w=400" },
    { id: 22, name: "All Purpose Flour (Maida)", category: "grains", price: 55, image: "https://images.unsplash.com/photo-1628088062854-d1870b4553da?w=400" },
    { id: 23, name: "Moong Dal", category: "grains", price: 140, image: "https://images.unsplash.com/photo-1604684797897-7e75d1e2e976?w=400" },
    { id: 24, name: "Masoor Dal", category: "grains", price: 130, image: "https://images.unsplash.com/photo-1596097635949-4f68b67a2e5b?w=400" },
    { id: 25, name: "Chana Dal", category: "grains", price: 135, image: "https://images.unsplash.com/photo-1590779033100-9f60a05a013d?w=400" },
    { id: 26, name: "Sugar", category: "grains", price: 65, image: "https://images.unsplash.com/photo-1514517220017-8ce97a34a7b6?w=400" },

    // Spices
    { id: 27, name: "Turmeric Powder (Besar)", category: "spices", price: 250, image: "https://images.unsplash.com/photo-1615485290382-441e4d049cb5?w=400" },
    { id: 28, name: "Red Chili Powder (Khursani)", category: "spices", price: 200, image: "https://images.unsplash.com/photo-1583032015627-0930e9f2bee3?w=400" },
    { id: 29, name: "Coriander Powder (Dhaniya)", category: "spices", price: 180, image: "https://images.unsplash.com/photo-1596040033229-a0b4e27d6da0?w=400" },
    { id: 30, name: "Cumin Seeds (Jeera)", category: "spices", price: 220, image: "https://images.unsplash.com/photo-1596040033229-a0b4e27d6da0?w=400" },
    { id: 31, name: "Garam Masala", category: "spices", price: 300, image: "https://images.unsplash.com/photo-1596040033229-a0b4e27d6da0?w=400" },
    { id: 32, name: "Black Pepper", category: "spices", price: 350, image: "https://images.unsplash.com/photo-1601493700631-2b16ec4b4716?w=400" },
    { id: 33, name: "Cardamom (Alainchi)", category: "spices", price: 800, image: "https://images.unsplash.com/photo-1596040033229-a0b4e27d6da0?w=400" },
    { id: 34, name: "Cinnamon (Dalchini)", category: "spices", price: 400, image: "https://images.unsplash.com/photo-1596040033229-a0b4e27d6da0?w=400" },
    { id: 35, name: "Bay Leaf (Tejpatta)", category: "spices", price: 150, image: "https://images.unsplash.com/photo-1596040033229-a0b4e27d6da0?w=400" },
    { id: 36, name: "Mustard Seeds (Tori)", category: "spices", price: 180, image: "https://images.unsplash.com/photo-1596040033229-a0b4e27d6da0?w=400" },
    { id: 37, name: "Fenugreek (Methi)", category: "spices", price: 200, image: "https://images.unsplash.com/photo-1596040033229-a0b4e27d6da0?w=400" },
    { id: 38, name: "Timur (Sichuan Pepper)", category: "spices", price: 500, image: "https://images.unsplash.com/photo-1596040033229-a0b4e27d6da0?w=400" },
    { id: 39, name: "Jimbu", category: "spices", price: 350, image: "https://images.unsplash.com/photo-1596040033229-a0b4e27d6da0?w=400" },

    // Noodles
    { id: 40, name: "Wai Wai", category: "noodles", price: 20, image: "https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=400" },
    { id: 41, name: "Rara", category: "noodles", price: 15, image: "https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=400" },
    { id: 42, name: "2PM", category: "noodles", price: 18, image: "https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=400" },
    { id: 43, name: "Mayos", category: "noodles", price: 22, image: "https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=400" },
    { id: 44, name: "Rum Pum", category: "noodles", price: 20, image: "https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=400" },
    { id: 45, name: "Maggi", category: "noodles", price: 25, image: "https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=400" },
    { id: 46, name: "Top Ramen", category: "noodles", price: 30, image: "https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=400" },
    { id: 47, name: "Yippee", category: "noodles", price: 28, image: "https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=400" },
    { id: 48, name: "Indomie", category: "noodles", price: 35, image: "https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=400" },
    { id: 49, name: "Samyang", category: "noodles", price: 150, image: "https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=400" },

    // Cooking Oils
    { id: 50, name: "Sunflower Oil", category: "oils", price: 280, image: "https://images.unsplash.com/photo-1474979266404-7eaacbcd87c5?w=400" },
    { id: 51, name: "Mustard Oil", category: "oils", price: 320, image: "https://images.unsplash.com/photo-1474979266404-7eaacbcd87c5?w=400" },
    { id: 52, name: "Soyabean Oil", category: "oils", price: 260, image: "https://images.unsplash.com/photo-1474979266404-7eaacbcd87c5?w=400" },
    { id: 53, name: "Olive Oil", category: "oils", price: 600, image: "https://images.unsplash.com/photo-1474979266404-7eaacbcd87c5?w=400" },

    // Snacks
    { id: 54, name: "Kurkure", category: "snacks", price: 20, image: "https://images.unsplash.com/photo-1600952841320-db92ec4047ca?w=400" },
    { id: 55, name: "Lays Chips", category: "snacks", price: 20, image: "https://images.unsplash.com/photo-1566478989037-eec170784d0b?w=400" },
    { id: 56, name: "Cheetos", category: "snacks", price: 25, image: "https://images.unsplash.com/photo-1600952841320-db92ec4047ca?w=400" },
    { id: 57, name: "Bingo", category: "snacks", price: 15, image: "https://images.unsplash.com/photo-1600952841320-db92ec4047ca?w=400" },
    { id: 58, name: "Chatpate Mix", category: "snacks", price: 30, image: "https://images.unsplash.com/photo-1621939514649-280e2ee25f60?w=400" },
    { id: 59, name: "Bhujia", category: "snacks", price: 40, image: "https://images.unsplash.com/photo-1621939514649-280e2ee25f60?w=400" },
    { id: 60, name: "Namkeen Mix", category: "snacks", price: 50, image: "https://images.unsplash.com/photo-1621939514649-280e2ee25f60?w=400" },
    { id: 61, name: "Popcorn", category: "snacks", price: 60, image: "https://images.unsplash.com/photo-1578849278619-e73505e9610f?w=400" },
    { id: 62, name: "Peanuts", category: "snacks", price: 80, image: "https://images.unsplash.com/photo-1582639590011-f5a8416d1101?w=400" },
    { id: 63, name: "Chana", category: "snacks", price: 70, image: "https://images.unsplash.com/photo-1621939514649-280e2ee25f60?w=400" },
    { id: 64, name: "Makhana", category: "snacks", price: 120, image: "https://images.unsplash.com/photo-1621939514649-280e2ee25f60?w=400" },
    { id: 65, name: "Beaten Rice (Chiura)", category: "snacks", price: 65, image: "https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400" },
    { id: 66, name: "Sel Roti Mix", category: "snacks", price: 100, image: "https://images.unsplash.com/photo-1628088062854-d1870b4553da?w=400" },
    { id: 67, name: "Samosa", category: "snacks", price: 15, image: "https://images.unsplash.com/photo-1601050690597-df0568f70950?w=400" },

    // Beverages
    { id: 68, name: "Coca Cola", category: "beverages", price: 50, image: "https://images.unsplash.com/photo-1554866585-cd94860890b7?w=400" },
    { id: 69, name: "Pepsi", category: "beverages", price: 50, image: "https://images.unsplash.com/photo-1629203851122-3726ecdf080e?w=400" },
    { id: 70, name: "Sprite", category: "beverages", price: 50, image: "https://images.unsplash.com/photo-1625740550087-f3b24c0f4533?w=400" },
    { id: 71, name: "Fanta", category: "beverages", price: 50, image: "https://images.unsplash.com/photo-1624517452488-04e9b48b30ea?w=400" },
    { id: 72, name: "Mountain Dew", category: "beverages", price: 50, image: "https://images.unsplash.com/photo-1629203851096-e0c2e8e4f9fa?w=400" },
    { id: 73, name: "Frooti", category: "beverages", price: 30, image: "https://images.unsplash.com/photo-1600271886742-f049cd451bba?w=400" },
    { id: 74, name: "Maaza", category: "beverages", price: 30, image: "https://images.unsplash.com/photo-1600271886742-f049cd451bba?w=400" },
    { id: 75, name: "Real Juice", category: "beverages", price: 60, image: "https://images.unsplash.com/photo-1600271886742-f049cd451bba?w=400" },
    { id: 76, name: "Minute Maid", category: "beverages", price: 40, image: "https://images.unsplash.com/photo-1600271886742-f049cd451bba?w=400" },
    { id: 77, name: "Red Bull", category: "beverages", price: 150, image: "https://images.unsplash.com/photo-1622543925917-763c34f639c4?w=400" },
    { id: 78, name: "Monster Energy", category: "beverages", price: 180, image: "https://images.unsplash.com/photo-1622543925917-763c34f639c4?w=400" },
    { id: 79, name: "Water Bottle", category: "beverages", price: 20, image: "https://images.unsplash.com/photo-1548839140-29a749e1cf4d?w=400" },
    { id: 80, name: "Tea (Chiya)", category: "beverages", price: 180, image: "https://images.unsplash.com/photo-1597318130259-8e5c150c3d0b?w=400" },
    { id: 81, name: "Coffee Powder", category: "beverages", price: 250, image: "https://images.unsplash.com/photo-1559056199-641a0ac8b55e?w=400" },
    { id: 82, name: "Horlicks", category: "beverages", price: 350, image: "https://images.unsplash.com/photo-1627308595171-d1b5d67129c4?w=400" },
    { id: 83, name: "Bournvita", category: "beverages", price: 320, image: "https://images.unsplash.com/photo-1627308595171-d1b5d67129c4?w=400" },

    // Tobacco Products
    { id: 84, name: "Surya Cigarette", category: "tobacco", price: 40, image: "https://images.unsplash.com/photo-1513534133427-6b1c8b0b9e3f?w=400" },
    { id: 85, name: "Pilot Cigarette", category: "tobacco", price: 35, image: "https://images.unsplash.com/photo-1513534133427-6b1c8b0b9e3f?w=400" },
    { id: 86, name: "Shikhar Cigarette", category: "tobacco", price: 30, image: "https://images.unsplash.com/photo-1513534133427-6b1c8b0b9e3f?w=400" },
    { id: 87, name: "Khukuri Cigarette", category: "tobacco", price: 45, image: "https://images.unsplash.com/photo-1513534133427-6b1c8b0b9e3f?w=400" },
    { id: 88, name: "Marlboro", category: "tobacco", price: 450, image: "https://images.unsplash.com/photo-1513534133427-6b1c8b0b9e3f?w=400" },
    { id: 89, name: "Gold Flake", category: "tobacco", price: 40, image: "https://images.unsplash.com/photo-1513534133427-6b1c8b0b9e3f?w=400" },
    { id: 90, name: "Panama Cigarette", category: "tobacco", price: 35, image: "https://images.unsplash.com/photo-1513534133427-6b1c8b0b9e3f?w=400" },
    { id: 91, name: "Yak Cigarette", category: "tobacco", price: 28, image: "https://images.unsplash.com/photo-1513534133427-6b1c8b0b9e3f?w=400" },
    { id: 92, name: "Sathi Cigarette", category: "tobacco", price: 25, image: "https://images.unsplash.com/photo-1513534133427-6b1c8b0b9e3f?w=400" },
    { id: 93, name: "Surti (Tobacco)", category: "tobacco", price: 20, image: "https://images.unsplash.com/photo-1513534133427-6b1c8b0b9e3f?w=400" },
    { id: 94, name: "Khaini", category: "tobacco", price: 15, image: "https://images.unsplash.com/photo-1513534133427-6b1c8b0b9e3f?w=400" },
    { id: 95, name: "Pan Masala", category: "tobacco", price: 10, image: "https://images.unsplash.com/photo-1513534133427-6b1c8b0b9e3f?w=400" },
    { id: 96, name: "Gutkha", category: "tobacco", price: 10, image: "https://images.unsplash.com/photo-1513534133427-6b1c8b0b9e3f?w=400" },

    // Personal Care
    { id: 97, name: "Colgate Toothpaste", category: "personal-care", price: 120, image: "https://images.unsplash.com/photo-1622286342621-4bd786c2447c?w=400" },
    { id: 98, name: "Pepsodent Toothpaste", category: "personal-care", price: 100, image: "https://images.unsplash.com/photo-1622286342621-4bd786c2447c?w=400" },
    { id: 99, name: "Close-up Toothpaste", category: "personal-care", price: 110, image: "https://images.unsplash.com/photo-1622286342621-4bd786c2447c?w=400" },
    { id: 100, name: "Toothbrush", category: "personal-care", price: 40, image: "https://images.unsplash.com/photo-1607613009820-a29f7bb81c04?w=400" },
    { id: 101, name: "Lux Soap", category: "personal-care", price: 35, image: "https://images.unsplash.com/photo-1585128792304-e120c67031b5?w=400" },
    { id: 102, name: "Dettol Soap", category: "personal-care", price: 50, image: "https://images.unsplash.com/photo-1585128792304-e120c67031b5?w=400" },
    { id: 103, name: "Lifebuoy Soap", category: "personal-care", price: 30, image: "https://images.unsplash.com/photo-1585128792304-e120c67031b5?w=400" },
    { id: 104, name: "Dove Soap", category: "personal-care", price: 80, image: "https://images.unsplash.com/photo-1585128792304-e120c67031b5?w=400" },
    { id: 105, name: "Head & Shoulders Shampoo", category: "personal-care", price: 250, image: "https://images.unsplash.com/photo-1595348020949-87cdfbb44174?w=400" },
    { id: 106, name: "Pantene Shampoo", category: "personal-care", price: 220, image: "https://images.unsplash.com/photo-1595348020949-87cdfbb44174?w=400" },
    { id: 107, name: "Sunsilk Shampoo", category: "personal-care", price: 180, image: "https://images.unsplash.com/photo-1595348020949-87cdfbb44174?w=400" },
    { id: 108, name: "Fair & Lovely", category: "personal-care", price: 150, image: "https://images.unsplash.com/photo-1556228578-0d85b1a4d571?w=400" },
    { id: 109, name: "Ponds Cream", category: "personal-care", price: 180, image: "https://images.unsplash.com/photo-1556228578-0d85b1a4d571?w=400" },
    { id: 110, name: "Vaseline", category: "personal-care", price: 100, image: "https://images.unsplash.com/photo-1556228578-0d85b1a4d571?w=400" },
    { id: 111, name: "Parachute Oil", category: "personal-care", price: 120, image: "https://images.unsplash.com/photo-1608571423902-eed4a5ad8108?w=400" },
    { id: 112, name: "Dabur Amla Oil", category: "personal-care", price: 130, image: "https://images.unsplash.com/photo-1608571423902-eed4a5ad8108?w=400" },
    { id: 113, name: "Navratna Oil", category: "personal-care", price: 110, image: "https://images.unsplash.com/photo-1608571423902-eed4a5ad8108?w=400" },
    { id: 114, name: "Gillette Razor", category: "personal-care", price: 150, image: "https://images.unsplash.com/photo-1627830892149-c19e81e3b1f6?w=400" },
    { id: 115, name: "Shaving Cream", category: "personal-care", price: 100, image: "https://images.unsplash.com/photo-1559223227-313e5a2b4a5b?w=400" },
    { id: 116, name: "Deo Spray", category: "personal-care", price: 200, image: "https://images.unsplash.com/photo-1585128792304-e120c67031b5?w=400" },
    { id: 117, name: "Perfume", category: "personal-care", price: 350, image: "https://images.unsplash.com/photo-1541643600914-78b084683601?w=400" },
    { id: 118, name: "Talcum Powder", category: "personal-care", price: 80, image: "https://images.unsplash.com/photo-1556228720-195a672e8a03?w=400" },
    { id: 119, name: "Sanitary Pads", category: "personal-care", price: 50, image: "https://images.unsplash.com/photo-1583947215259-38e31be8751f?w=400" },
    { id: 120, name: "Tissues", category: "personal-care", price: 60, image: "https://images.unsplash.com/photo-1584820927498-cfe5211fd8bf?w=400" },
    { id: 121, name: "Cotton Buds", category: "personal-care", price: 45, image: "https://images.unsplash.com/photo-1619451334792-150fd785ee74?w=400" },
    { id: 122, name: "Hand Wash", category: "personal-care", price: 120, image: "https://images.unsplash.com/photo-1585128792304-e120c67031b5?w=400" },

    // Cleaning Products
    { id: 123, name: "Vim Bar", category: "cleaning", price: 20, image: "https://images.unsplash.com/photo-1563453392212-326f5e854473?w=400" },
    { id: 124, name: "Harpic", category: "cleaning", price: 150, image: "https://images.unsplash.com/photo-1585421514738-01798e348b17?w=400" },
    { id: 125, name: "Lizol", category: "cleaning", price: 180, image: "https://images.unsplash.com/photo-1585421514738-01798e348b17?w=400" },
    { id: 126, name: "Colin", category: "cleaning", price: 120, image: "https://images.unsplash.com/photo-1585421514738-01798e348b17?w=400" },
    { id: 127, name: "Surf Excel", category: "cleaning", price: 250, image: "https://images.unsplash.com/photo-1610557892470-55d9e80c0bce?w=400" },
    { id: 128, name: "Ariel Powder", category: "cleaning", price: 280, image: "https://images.unsplash.com/photo-1610557892470-55d9e80c0bce?w=400" },
    { id: 129, name: "Tide Powder", category: "cleaning", price: 260, image: "https://images.unsplash.com/photo-1610557892470-55d9e80c0bce?w=400" },
    { id: 130, name: "Wheel Powder", category: "cleaning", price: 180, image: "https://images.unsplash.com/photo-1610557892470-55d9e80c0bce?w=400" },
    { id: 131, name: "Rin Bar", category: "cleaning", price: 30, image: "https://images.unsplash.com/photo-1610557892470-55d9e80c0bce?w=400" },
    { id: 132, name: "Dishwashing Liquid", category: "cleaning", price: 100, image: "https://images.unsplash.com/photo-1563453392212-326f5e854473?w=400" },
    { id: 133, name: "Broom", category: "cleaning", price: 80, image: "https://images.unsplash.com/photo-1581578949510-fa7315c4c350?w=400" },

    // Stationery
    { id: 134, name: "Notebook (Copy)", category: "stationery", price: 40, image: "https://images.unsplash.com/photo-1531346878377-a5be20888e57?w=400" },
    { id: 135, name: "Register", category: "stationery", price: 80, image: "https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=400" },
    { id: 136, name: "Pen (Blue)", category: "stationery", price: 10, image: "https://images.unsplash.com/photo-1586158291800-2665f07bba62?w=400" },
    { id: 137, name: "Pen (Black)", category: "stationery", price: 10, image: "https://images.unsplash.com/photo-1586158291800-2665f07bba62?w=400" },
    { id: 138, name: "Pen (Red)", category: "stationery", price: 10, image: "https://images.unsplash.com/photo-1586158291800-2665f07bba62?w=400" },
    { id: 139, name: "Pencil", category: "stationery", price: 5, image: "https://images.unsplash.com/photo-1589782182703-2aaa69037b5b?w=400" },
    { id: 140, name: "Eraser", category: "stationery", price: 5, image: "https://images.unsplash.com/photo-1614439968902-1e4e7c7c6c34?w=400" },
    { id: 141, name: "Sharpener", category: "stationery", price: 5, image: "https://images.unsplash.com/photo-1625360538508-b3d33c203c94?w=400" },
    { id: 142, name: "Ruler", category: "stationery", price: 15, image: "https://images.unsplash.com/photo-1596080707831-a5e8cd1bde92?w=400" },
    { id: 143, name: "Geometry Box", category: "stationery", price: 80, image: "https://images.unsplash.com/photo-1596080707831-a5e8cd1bde92?w=400" },
    { id: 144, name: "Scissors", category: "stationery", price: 30, image: "https://images.unsplash.com/photo-1616202611622-615674f83c44?w=400" },
    { id: 145, name: "Glue Stick", category: "stationery", price: 25, image: "https://images.unsplash.com/photo-1612814402027-1ee0e4dfd8fa?w=400" },
    { id: 146, name: "Fevicol", category: "stationery", price: 40, image: "https://images.unsplash.com/photo-1612814402027-1ee0e4dfd8fa?w=400" },
    { id: 147, name: "Cello Tape", category: "stationery", price: 20, image: "https://images.unsplash.com/photo-1611532736597-de2d4265fba3?w=400" },
    { id: 148, name: "Stapler", category: "stationery", price: 60, image: "https://images.unsplash.com/photo-1598256822704-a49ce08c2f3f?w=400" },
    { id: 149, name: "Stapler Pins", category: "stationery", price: 15, image: "https://images.unsplash.com/photo-1598256822704-a49ce08c2f3f?w=400" },
    { id: 150, name: "Paper Clips", category: "stationery", price: 10, image: "https://images.unsplash.com/photo-1616202611622-615674f83c44?w=400" },
    { id: 151, name: "Marker (Permanent)", category: "stationery", price: 35, image: "https://images.unsplash.com/photo-1586765677067-f8030bd8e303?w=400" },
    { id: 152, name: "Highlighter", category: "stationery", price: 30, image: "https://images.unsplash.com/photo-1586765677067-f8030bd8e303?w=400" },
    { id: 153, name: "Whitener", category: "stationery", price: 20, image: "https://images.unsplash.com/photo-1612814402027-1ee0e4dfd8fa?w=400" },
    { id: 154, name: "Chart Paper", category: "stationery", price: 10, image: "https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=400" },
    { id: 155, name: "A4 Paper (500 sheets)", category: "stationery", price: 350, image: "https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=400" },
    { id: 156, name: "Envelope", category: "stationery", price: 5, image: "https://images.unsplash.com/photo-1525129498994-6c3d86e1b763?w=400" },
    { id: 157, name: "File Folder", category: "stationery", price: 25, image: "https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=400" },
    { id: 158, name: "Rubber Band", category: "stationery", price: 10, image: "https://images.unsplash.com/photo-1616202611622-615674f83c44?w=400" },
    { id: 159, name: "Correction Pen", category: "stationery", price: 25, image: "https://images.unsplash.com/photo-1612814402027-1ee0e4dfd8fa?w=400" },
    { id: 160, name: "Ink Pad", category: "stationery", price: 40, image: "https://images.unsplash.com/photo-1598256822704-a49ce08c2f3f?w=400" },
    { id: 161, name: "Calculator", category: "stationery", price: 200, image: "https://images.unsplash.com/photo-1587825140708-dfaf72ae4b04?w=400" },
    { id: 162, name: "Drawing Book", category: "stationery", price: 50, image: "https://images.unsplash.com/photo-1531346878377-a5be20888e57?w=400" },

    // Health & Medicine
    { id: 163, name: "Paracetamol", category: "health", price: 5, image: "https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=400" },
    { id: 164, name: "Band-Aid", category: "health", price: 20, image: "https://images.unsplash.com/photo-1603398938378-e54eab446dde?w=400" },

    // Biscuits
    { id: 165, name: "Parle-G", category: "biscuits", price: 10, image: "https://images.unsplash.com/photo-1558961363-fa8fdf82db35?w=400" },
    { id: 166, name: "Bourbon", category: "biscuits", price: 20, image: "https://images.unsplash.com/photo-1606312619070-d48b4cbc4b9d?w=400" },
    { id: 167, name: "Hide & Seek", category: "biscuits", price: 30, image: "https://images.unsplash.com/photo-1606312619070-d48b4cbc4b9d?w=400" },
    { id: 168, name: "Good Day", category: "biscuits", price: 25, image: "https://images.unsplash.com/photo-1558961363-fa8fdf82db35?w=400" },
    { id: 169, name: "Oreo", category: "biscuits", price: 30, image: "https://images.unsplash.com/photo-1606312619070-d48b4cbc4b9d?w=400" },
    { id: 170, name: "Monaco", category: "biscuits", price: 10, image: "https://images.unsplash.com/photo-1558961363-fa8fdf82db35?w=400" },
    { id: 171, name: "Krackjack", category: "biscuits", price: 15, image: "https://images.unsplash.com/photo-1558961363-fa8fdf82db35?w=400" },
    { id: 172, name: "Marie Gold", category: "biscuits", price: 20, image: "https://images.unsplash.com/photo-1558961363-fa8fdf82db35?w=400" },
    { id: 173, name: "Digestive Biscuits", category: "biscuits", price: 35, image: "https://images.unsplash.com/photo-1558961363-fa8fdf82db35?w=400" },
    { id: 174, name: "Cream Crackers", category: "biscuits", price: 25, image: "https://images.unsplash.com/photo-1558961363-fa8fdf82db35?w=400" },
    { id: 175, name: "Treat", category: "biscuits", price: 10, image: "https://images.unsplash.com/photo-1606312619070-d48b4cbc4b9d?w=400" },
    { id: 176, name: "Tiger Biscuits", category: "biscuits", price: 10, image: "https://images.unsplash.com/photo-1558961363-fa8fdf82db35?w=400" },

    // Chocolates & Candies
    { id: 177, name: "Dairy Milk", category: "chocolates", price: 50, image: "https://images.unsplash.com/photo-1511381939415-e44015466834?w=400" },
    { id: 178, name: "KitKat", category: "chocolates", price: 20, image: "https://images.unsplash.com/photo-1606312619070-d48b4cbc4b9d?w=400" },
    { id: 179, name: "5 Star", category: "chocolates", price: 10, image: "https://images.unsplash.com/photo-1511381939415-e44015466834?w=400" },
    { id: 180, name: "Munch", category: "chocolates", price: 10, image: "https://images.unsplash.com/photo-1511381939415-e44015466834?w=400" },
    { id: 181, name: "Lollipop", category: "candies", price: 5, image: "https://images.unsplash.com/photo-1582058091505-f87a2e55a40f?w=400" },
    { id: 182, name: "Melody", category: "candies", price: 1, image: "https://images.unsplash.com/photo-1582058091505-f87a2e55a40f?w=400" },

    // Incense & Religious
    { id: 183, name: "Incense Sticks (Dhup)", category: "incense", price: 30, image: "https://images.unsplash.com/photo-1588446733292-908c7e2b5203?w=400" },
    { id: 184, name: "Camphor (Kapoor)", category: "incense", price: 40, image: "https://images.unsplash.com/photo-1588446733292-908c7e2b5203?w=400" },

    // Additional General Items
    { id: 185, name: "Matches", category: "general", price: 5, image: "https://images.unsplash.com/photo-1583225214464-9296029427aa?w=400" },
    { id: 186, name: "Candles", category: "general", price: 10, image: "https://images.unsplash.com/photo-1602874801006-e04b6d9bfaa4?w=400" },
    { id: 187, name: "Battery (AA)", category: "general", price: 30, image: "https://images.unsplash.com/photo-1591814913968-33ae0b685d6f?w=400" },
    { id: 188, name: "Battery (AAA)", category: "general", price: 30, image: "https://images.unsplash.com/photo-1591814913968-33ae0b685d6f?w=400" },
    { id: 189, name: "Torch Light", category: "general", price: 150, image: "https://images.unsplash.com/photo-1548611635-b6e7827d7d9a?w=400" },
    { id: 190, name: "Plastic Bags", category: "general", price: 20, image: "https://images.unsplash.com/photo-1621937727520-6ff01e3c5cb1?w=400" },
    { id: 191, name: "Rope/Dori", category: "general", price: 50, image: "https://images.unsplash.com/photo-1600398262229-82f2b7f2e90e?w=400" }
];

// Display cart items
function displayCartItems() {
    const cart = loadCart();
    const container = document.getElementById('cartItemsContainer');
    const cartCount = document.getElementById('cartCount');
    
    if (cart.length === 0) {
        container.innerHTML = `
            <div class="text-center py-12">
                <i class="fas fa-shopping-cart text-6xl text-gray-300 mb-4"></i>
                <h3 class="text-xl font-semibold text-gray-600 mb-2">Your cart is empty</h3>
                <p class="text-gray-500 mb-6">Add some products to get started</p>
                <a href="index.html#products" class="inline-block bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition">
                    Browse Products
                </a>
            </div>
        `;
        updateSummary(0);
        cartCount.textContent = '0';
        return;
    }

    let html = '<div class="space-y-4">';
    cart.forEach(item => {
        const product = products.find(p => p.id === item.id);
        if (product) {
            html += `
                <div class="flex items-center border-b pb-4">
                    <img src="${product.image}" alt="${product.name}" class="w-20 h-20 object-cover rounded">
                    <div class="flex-1 ml-4">
                        <h3 class="font-semibold text-gray-800">${product.name}</h3>
                        <p class="text-green-600 font-semibold">Rs. ${product.price}</p>
                    </div>
                    <div class="flex items-center space-x-3">
                        <button onclick="updateQuantity(${item.id}, -1)" class="bg-gray-200 px-3 py-1 rounded hover:bg-gray-300">
                            <i class="fas fa-minus"></i>
                        </button>
                        <span class="font-semibold">${item.quantity}</span>
                        <button onclick="updateQuantity(${item.id}, 1)" class="bg-gray-200 px-3 py-1 rounded hover:bg-gray-300">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button onclick="removeFromCart(${item.id})" class="text-red-500 hover:text-red-700 ml-4">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            `;
        }
    });
    html += '</div>';
    
    container.innerHTML = html;
    
    // Update cart count
    const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
    cartCount.textContent = totalItems;
    
    // Update summary
    const subtotal = cart.reduce((sum, item) => {
        const product = products.find(p => p.id === item.id);
        return sum + (product ? product.price * item.quantity : 0);
    }, 0);
    updateSummary(subtotal);
}

// Update quantity
function updateQuantity(productId, change) {
    let cart = loadCart();
    const itemIndex = cart.findIndex(item => item.id === productId);
    
    if (itemIndex > -1) {
        cart[itemIndex].quantity += change;
        if (cart[itemIndex].quantity <= 0) {
            cart.splice(itemIndex, 1);
        }
        saveCart(cart);
        displayCartItems();
    }
}

// Remove from cart
function removeFromCart(productId) {
    let cart = loadCart();
    cart = cart.filter(item => item.id !== productId);
    saveCart(cart);
    displayCartItems();
    showNotification('Item removed from cart');
}

// Update order summary
function updateSummary(subtotal) {
    const deliveryFee = subtotal > 0 ? 50 : 0;
    const total = subtotal + deliveryFee;
    
    document.getElementById('subtotal').textContent = `Rs. ${subtotal}`;
    document.getElementById('deliveryFee').textContent = `Rs. ${deliveryFee}`;
    document.getElementById('totalAmount').textContent = `Rs. ${total}`;
}

// Proceed to checkout
function proceedToCheckout() {
    const cart = loadCart();
    if (cart.length === 0) {
        showNotification('Your cart is empty!');
        return;
    }
    
    const subtotal = cart.reduce((sum, item) => {
        const product = products.find(p => p.id === item.id);
        return sum + (product ? product.price * item.quantity : 0);
    }, 0);
    
    const total = subtotal + 50;
    
    alert(`Order placed successfully!\nTotal: Rs. ${total}\n\nThank you for shopping with Khadka Kirana Pasal!`);
    localStorage.removeItem('cart');
    displayCartItems();
}

// Show notification
function showNotification(message) {
    const notification = document.createElement('div');
    notification.className = 'fixed top-20 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-fade-in';
    notification.textContent = message;
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.remove();
    }, 3000);
}

// Initialize cart page
document.addEventListener('DOMContentLoaded', () => {
    displayCartItems();
});
